{"ast":null,"code":"import React,{useState,useEffect}from'react';import AccessibleForm from'./AccessibleForm';import{BrowserRouter as Router,Route,Routes,Link,useLocation}from'react-router-dom';import WelcomePage from'./WelcomePage';import Navigation from'./Navigation';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(!!localStorage.getItem('userName'));const[highContrast,setHighContrast]=useState(false);useEffect(()=>{// Create a function to handle storage events\nconst handleStorageChange=()=>{setIsLoggedIn(!!localStorage.getItem('userName'));};// Add event listener for local storage changes\nwindow.addEventListener('storage',handleStorageChange);// Clean up event listener\nreturn()=>window.removeEventListener('storage',handleStorageChange);},[]);useEffect(()=>{document.body.classList.toggle('high-contrast',highContrast);},[highContrast]);const handleClick=()=>{// Toggle contrast mode\nsetHighContrast(!highContrast);// Speak the current contrast mode\nconst contrastMode=highContrast?'Disable High Contrast':'Enable High Contrast';speakWithDelay(contrastMode);};const speakWithDelay=text=>{if('speechSynthesis'in window){const utterance=new SpeechSynthesisUtterance(text);speechSynthesis.cancel();// Clear any previously scheduled speech synthesis\nsetTimeout(()=>{speechSynthesis.speak(utterance);// Delayed speech synthesis\n},100);// Adjust the delay time as needed\n}else{console.error(\"Your browser does not support speech synthesis.\");}};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navigation,{isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(AccessibleForm,{formType:\"signup\"})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(AccessibleForm,{formType:\"signup\"})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(AccessibleForm,{formType:\"signin\"})}),/*#__PURE__*/_jsx(Route,{path:\"/welcome\",element:/*#__PURE__*/_jsx(WelcomePage,{})})]}),/*#__PURE__*/_jsx(\"button\",{onMouseEnter:()=>speakWithDelay(\"Toggle Contrast\"),onFocus:()=>speakWithDelay(\"Click to toggle contrast.\"),className:\"toggle-contrast\",onClick:handleClick,\"aria-pressed\":highContrast,\"aria-label\":\"Toggle high contrast mode\",children:highContrast?'Disable High Contrast':'Enable High Contrast'})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","AccessibleForm","BrowserRouter","Router","Route","Routes","Link","useLocation","WelcomePage","Navigation","jsx","_jsx","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","localStorage","getItem","highContrast","setHighContrast","handleStorageChange","window","addEventListener","removeEventListener","document","body","classList","toggle","handleClick","contrastMode","speakWithDelay","text","utterance","SpeechSynthesisUtterance","speechSynthesis","cancel","setTimeout","speak","console","error","children","className","path","element","formType","onMouseEnter","onFocus","onClick"],"sources":["C:/Users/parth/Desktop/RAYO/accessible-signup/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport AccessibleForm from './AccessibleForm';\nimport { BrowserRouter as Router, Route, Routes, Link, useLocation } from 'react-router-dom';\nimport WelcomePage from './WelcomePage'; \nimport Navigation from './Navigation'; \nimport './App.css';\n\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem('userName'));\n  const [highContrast, setHighContrast] = useState(false);\n\n  useEffect(() => {\n    // Create a function to handle storage events\n    const handleStorageChange = () => {\n      setIsLoggedIn(!!localStorage.getItem('userName'));\n    };\n\n    // Add event listener for local storage changes\n    window.addEventListener('storage', handleStorageChange);\n\n    // Clean up event listener\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  useEffect(() => {\n    document.body.classList.toggle('high-contrast', highContrast);\n  }, [highContrast]);\n\n  const handleClick = () => {\n    // Toggle contrast mode\n    setHighContrast(!highContrast);\n\n    // Speak the current contrast mode\n    const contrastMode = highContrast ? 'Disable High Contrast' : 'Enable High Contrast';\n    speakWithDelay(contrastMode);\n  };\n\n  \n  const speakWithDelay = (text) => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      speechSynthesis.cancel(); // Clear any previously scheduled speech synthesis\n      setTimeout(() => {\n        speechSynthesis.speak(utterance); // Delayed speech synthesis\n      }, 100); // Adjust the delay time as needed\n    } else {\n      console.error(\"Your browser does not support speech synthesis.\");\n    }\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n      <Navigation isLoggedIn={isLoggedIn} />\n        <Routes>\n          <Route path=\"/\" element={<AccessibleForm formType=\"signup\" />} />\n          <Route path=\"/signup\" element={<AccessibleForm formType=\"signup\" />} />\n          <Route path=\"/signin\" element={<AccessibleForm formType=\"signin\" />} />\n          <Route path=\"/welcome\" element={<WelcomePage />} />\n        </Routes>\n        <button\n          onMouseEnter={() => speakWithDelay(\"Toggle Contrast\")}\n          onFocus={() => speakWithDelay(\"Click to toggle contrast.\")}\n          className=\"toggle-contrast\"\n          onClick={handleClick}\n          aria-pressed={highContrast}\n          aria-label=\"Toggle high contrast mode\"\n        >\n          {highContrast ? 'Disable High Contrast' : 'Enable High Contrast'}\n        </button>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}